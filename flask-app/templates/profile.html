{% extends "base.html" %}

{% block title %}Profile - Pursuit{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2 id="profileName">User's Profile</h2>
    <form id="profileForm">
        <div class="mb-3">
            <label for="userName" class="form-label">Name:</label>
            <input type="text" class="form-control" id="userName" name="userName" placeholder="Enter your name" required>
        </div>
        <div id="hobbiesContainer">
            <label class="form-label">Hobbies:</label>
            <div class="input-group mb-2 hobby-field">
                <input type="text" class="form-control" name="hobbies" placeholder="Enter a hobby" required>
                <button type="button" class="btn btn-success add-hobby-btn">+</button>
            </div>
        </div>
        <button type="submit" class="btn btn-primary mt-2">Save Profile</button>
    </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Update heading with name as user types
    const nameInput = document.getElementById('userName');
    const profileName = document.getElementById('profileName');
    nameInput.addEventListener('input', function() {
        profileName.textContent = nameInput.value ? nameInput.value + "'s Profile" : "User's Profile";
    });

    // Add more hobby fields
    document.getElementById('hobbiesContainer').addEventListener('click', function(e) {
        if (e.target.classList.contains('add-hobby-btn')) {
            const newField = document.createElement('div');
            newField.className = 'input-group mb-2 hobby-field';
            newField.innerHTML = `
                <input type="text" class="form-control" name="hobbies" placeholder="Enter a hobby" required>
                <button type="button" class="btn btn-danger remove-hobby-btn">-</button>
            `;
            this.appendChild(newField);
        }
        if (e.target.classList.contains('remove-hobby-btn')) {
            e.target.parentElement.remove();
        }
    });

    // Optional: handle form submission
    document.getElementById('profileForm').addEventListener('submit', function(e) {
        e.preventDefault();
        // Collect data and process as needed
        alert('Profile saved!');
    });
});
</script>
{% endblock %}